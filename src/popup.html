<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Tutorials Selected</title>
        <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../assets/css/bootstrap-table.min.css">
        <link rel="stylesheet" href="../assets/css/bootstrap-table-reorder-rows.css">
        <link rel="stylesheet" href="../assets/css/spectrum.min.css">
        <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"> -->

        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="container-fluid">
            <h4>NUS Tutorial/Lab Selection Ranker</h4>
            <div class="button-group">
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#instructions" aria-expanded="false" aria-controls="instructions">
                    Info
                </button>
                  
                <!-- <button type="button" class="btn btn-primary" id="scrape" >Scrape</button> -->
                <!-- Scrape Button trigger modal -->
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#scrapeModal" title="Scrape data from EduRec">
                    Scrape
                </button>
                
                <!-- Scrape Confirmation Modal -->
                <div class="modal fade" id="scrapeModal" tabindex="-1" role="dialog" aria-labelledby="scrapeModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="scrapeModalLabel">Scrape Data</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                        Scraping data from EduRec may override existing data. Are you sure you want to continue?
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="scrape">Confirm</button>
                        </div>
                    </div>
                    </div>
                </div>

                <button type="button" id="compare" class="btn btn-primary" title="Compare ranking">Compare</button>

                <!-- <button type="button" id="applyRanking" class="btn btn-danger" title="Apply current ranking">Apply</button> -->
                <!-- Apply Button trigger modal -->
                <!-- <button type="button" class="btn btn-danger" id="reset">Reset</button> -->
                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#applyModal" title="Apply new ranking">
                    Apply
                </button>
                
                <!-- Apply Confirmation Modal -->
                <div class="modal fade" id="applyModal" tabindex="-1" role="dialog" aria-labelledby="applyModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="applyModalLabel">Apply ranking</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                        Apply ranking will modify the ranking selection boxes on EduRec. Are you sure you want to continue?
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="applyRanking">Confirm</button>
                        </div>
                    </div>
                    </div>
                </div>

                <!-- Reset Button trigger modal -->
                <!-- <button type="button" class="btn btn-danger" id="reset">Reset</button> -->
                <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#resetModal" title="Reset data">
                    Reset
                </button>
                
                <!-- Reset Confirmation Modal -->
                <div class="modal fade" id="resetModal" tabindex="-1" role="dialog" aria-labelledby="resetModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="resetModalLabel">Reset data</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                        Are you sure you want to reset all data?
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="reset">Confirm</button>
                        </div>
                    </div>
                    </div>
                </div>

                <button type="button" id="openWindow" class="btn btn-secondary" title="Open page in window">ü°≠</button>
                <button type="button" id="shiftDialog" class="btn btn-secondary" title="Shift dialog to the left">‚ùÆ</button>
                <button type="button" id="applyColor" class="btn btn-secondary" title="Apply color to rows">üñåÔ∏è</button>
                <!-- for testing -->
                <button type="button" class="btn btn-light" id="test" >test</button>
                
                <span style="display: none;"><input id="hidden-picker"/></span>
            </div>
            <!-- Instructions collapse card content -->
            <div class="collapse" id="instructions">
                <div class="card card-body">
                    <p>1. On EduRec, go to <b>"Select Tutorials/Labs"</b> and select your classes</p>
                    <p>2. Click <b>"Rank Tutorials/Lab"</b>. Note that the functions below work only when this dialog is opened.</p>
                    <p>3. Open this extension and click the <b>"Scrape"</b> button</p>
                    <p>4. Click and drag the rows below to reorder them</p>
                    <p>5. Click <b>"Compare"</b> to see the differences in ranking indicated in <span style="color: red;">red</span></p>
                    <p>6. Click <b>"Apply"</b> to automatically change rankings on EduRec to match your desired ranking</p>
                    <p>ü°≠  opens this extension in a new tab</p>
                    <p>‚ùÆ   shifts the "Rank Tutorials/Lab" dialog to the left for easier viewing.</p>
                </div>
            </div>
            <table 
                id="classTable" 
                class="table" 
                data-toggle="table" 
                data-height="500" 
                data-use-row-attr-func="true"
                data-reorderable-rows="true"
            >
            </table>

            <table 
                id="removedTable" 
                class="table" 
                data-toggle="table" 
                data-height="500" 
            >
            </table>
        </div>
        <script src="../assets/js/jquery.min.js"></script>
        <script src="../assets/js/popper.min.js"></script>
        <script src="../assets/js/bootstrap.min.js"></script>
        <script src="../assets/js/bootstrap-table.min.js"></script>
        <script src="../assets/js/jquery.tablednd.min.js"></script>
        <script src="../assets/js/bootstrap-table-reorder-rows.min.js"></script>
        <script src="../assets/js/spectrum.min.js"></script>
        <script src="popup.js"></script>
        </div>
    </body>
</html>